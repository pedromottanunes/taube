<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gerar Orçamento • OD Drive</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{ --od-primary:#0f766e; }
    .bg-primary{background-color:var(--od-primary)}
    .text-primary{color:var(--od-primary)}
    .focus\:ring-primary:focus{
      --tw-ring-color:var(--od-primary);
      --tw-ring-opacity:.7}
    /* Custom Scrollbar minimalista */
    ::-webkit-scrollbar{ width:6px; }
    ::-webkit-scrollbar-thumb{ background:#e0e0e0; border-radius:3px;}
  </style>
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-tr from-gray-100 via-gray-50 to-white px-2">

<section class="w-full max-w-lg bg-white/90 backdrop-blur rounded-3xl shadow-2xl p-7 sm:p-10 border border-gray-100">
  <!-- HEADER -->
  <div class="mb-7 flex flex-col items-center">
    <div class="w-14 h-14 flex items-center justify-center rounded-full bg-primary/10 mb-3">
      <!-- Ícone SVG discreto, moderno -->
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" class="text-primary">
        <path d="M8 19h8M12 5v14m0 0c-3.866 0-7-3.134-7-7a7 7 0 0114 0c0 3.866-3.134 7-7 7z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <h1 class="text-2xl sm:text-3xl font-bold tracking-tight text-gray-900 text-center mb-1">
      Gerar Orçamento
    </h1>
    <div class="text-sm text-gray-500 font-medium">OD Drive</div>
  </div>

  <!-- FORM -->
  <form id="odForm" class="space-y-6">
    <!-- DADOS PRINCIPAIS -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
      <!-- Empresa -->
      <div class="sm:col-span-2">
        <label for="company_name" class="block text-xs font-semibold text-gray-700 mb-1">Empresa</label>
        <input id="company_name" name="company_name" required
          class="w-full bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/30 rounded-lg px-3 py-2 text-gray-900 placeholder-gray-400 transition" />
      </div>

      <!-- Site -->
      <div>
        <label for="site_url" class="block text-xs font-semibold text-gray-700 mb-1">Site</label>
        <input id="site_url" name="site_url" type="url" required
          placeholder="https://exemplo.com"
          class="w-full bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/30 rounded-lg px-3 py-2 text-gray-900 placeholder-gray-400 transition" />
      </div>

      <!-- Cidade -->
      <div>
        <label for="city" class="block text-xs font-semibold text-gray-700 mb-1">Cidade</label>
        <input id="city" name="city" required
          class="w-full bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/30 rounded-lg px-3 py-2 text-gray-900 placeholder-gray-400 transition" />
      </div>

      <!-- Objetivo -->
      <div class="sm:col-span-2">
        <label for="objective" class="block text-xs font-semibold text-gray-700 mb-1">Objetivo</label>
        <input id="objective" name="objective" required
          class="w-full bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/30 rounded-lg px-3 py-2 text-gray-900 placeholder-gray-400 transition" />
      </div>

      <!-- Upload -->
      <div class="sm:col-span-2">
        <label for="mockup_image" class="block text-xs font-semibold text-gray-700 mb-1">Imagem / Mockup (PNG ou JPG)</label>
        <input id="mockup_image" name="mockup_image" type="file"
          accept="image/png,image/jpeg" required
          class="block w-full rounded-lg border border-gray-200 bg-white file:bg-primary file:text-white file:rounded file:border-0 file:py-1 file:px-4 file:cursor-pointer focus:border-primary focus:ring-2 focus:ring-primary/30 transition" />
      </div>
    </div>

    <!-- NÚMEROS -->
    <div class="grid grid-cols-2 gap-5">
      <div>
        <label for="cars_qtd" class="block text-xs font-semibold text-gray-700 mb-1">Qtd. Carros</label>
        <input id="cars_qtd" name="cars_qtd" type="number" min="1" required
          class="w-full bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/30 rounded-lg px-3 py-2 text-gray-900 transition" />
      </div>
      <div>
        <label for="discount" class="block text-xs font-semibold text-gray-700 mb-1">Desconto (R$)</label>
        <input id="discount" name="discount" type="number" step="0.01" value="0"
          class="w-full bg-gray-50 border border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/30 rounded-lg px-3 py-2 text-gray-900 transition" />
      </div>
    </div>

    <!-- BOTÃO -->
    <button type="submit"
      class="w-full py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary/90 active:scale-[0.98] transition-all shadow-sm tracking-tight text-base">
      Gerar Orçamento
    </button>

    <!-- Mensagem dinâmica -->
    <p id="msg" class="text-center text-sm mt-2 hidden"></p>
  </form>
</section>

<script>
// ... Seu JS permanece igual ...
const WEBHOOK_URL = 'https://hook.us2.make.com/ssddbgjp5jqdwpdcmmbrx14d2chwmxxa';
const form      = document.getElementById('odForm');
const msg       = document.getElementById('msg');
const inputFile = document.getElementById('mockup_image');

function showMsg(text, ok = true){
  msg.textContent = text;
  msg.className   = `text-center text-sm mt-2 ${ ok ? 'text-primary' : 'text-red-600' }`;
  msg.classList.remove('hidden');
}

form.addEventListener('submit', async ev => {
  ev.preventDefault(); msg.classList.add('hidden');
  const file = inputFile.files[0];
  if(!file || !['image/png','image/jpeg'].includes(file.type)){
    showMsg('❌ Selecione uma imagem PNG ou JPG', false); return;
  }
  const fd = new FormData(form);
  fd.set('mockup_image', file);

  try{
    const res = await fetch(WEBHOOK_URL, { method:'POST', body: fd });
    if(!res.ok) throw new Error('Webhook '+res.status);
    showMsg('✅ Orçamento enviado com sucesso!');
    form.reset();
  }catch(err){
    console.error(err);
    showMsg('Erro ao enviar: '+(err.message || err), false);
  }
});
</script>
</body>
</html>
